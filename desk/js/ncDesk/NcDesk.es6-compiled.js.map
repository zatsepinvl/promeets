{
  "version": 3,
  "sources": [
    "NcDesk.es6.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "NcDesk.es6-compiled.js",
  "sourcesContent": [
    "/**\r\n * Created by Filon_000 on 3/1/2016.\r\n */\r\nclass NcDesk {\r\n    constructor($wrapper) {\r\n        this.$wrapper = $wrapper;\r\n        this.stickers = [];\r\n        this.initEventListeners();\r\n        this.color = \"green\";\r\n        switch (this.color){\r\n            case 'green' :\r\n                this.secondaryColor = 'white';\r\n                break;\r\n            default :\r\n                this.secondaryColor = \"blue\";\r\n                throw new Error('Unknown color used');\r\n                break;\r\n        }\r\n    }\r\n\r\n    addNewSticker(type) {\r\n        switch (type) {\r\n            case \"text\":\r\n                this.addSticker(new TextSticker(this.color));\r\n                break;\r\n            default:\r\n                throw new Error(\"Not such sticker type : \" + type);\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    addSticker(sticker) {\r\n        if (!sticker instanceof Sticker) {\r\n            throw new Error('Sticker is not instance of class Sticker');\r\n        }\r\n        this.stickers.push(sticker);\r\n        let $sticker = $(sticker.html);\r\n        this.$wrapper.find(\".nc-desk-control\").append($sticker);\r\n        sticker.initSticker($sticker);\r\n    }\r\n\r\n    initEventListeners() {\r\n        this.$wrapper.find(\".sticker-type-select .text-sticker\").click(()=> {\r\n                this.addNewSticker('text');\r\n            }\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet lastId = 0;\r\nclass Sticker {\r\n    constructor(color){\r\n        this.color = color;\r\n    }\r\n    static getNewId() {\r\n        return lastId++;\r\n    }\r\n    initSticker($sticker){\r\n        this.$sticker = $sticker;\r\n        let addToDeskCallback = () =>{\r\n            this.addToDeskHandler($sticker);\r\n        };\r\n        $sticker.on('click','.add-to-desk',addToDeskCallback);\r\n    }\r\n    //override\r\n    transformToDeskWidget(){}\r\n    transformToSubmittedDeskWidget(){}\r\n\r\n    submitToDeskHandler($sticker){\r\n        this.transformToSubmittedDeskWidget($sticker);\r\n    }\r\n    addToDeskHandler($sticker){\r\n        let $wrapper = $sticker.wrap('<div class=\"sticker-animation-wrapper\"></div>');\r\n        let me = this;\r\n        $sticker.animate({\r\n            bottom : 100,\r\n            opacity : 0,\r\n        },'fast').promise().done(()=>{\r\n            $sticker.remove();\r\n            $wrapper.remove();\r\n            $sticker = me.transformToDeskWidget($sticker);\r\n            me.$sticker = $sticker;\r\n            $sticker.appendTo($(\".nc-desk-canvas\")).css(\"bottom\",-100).animate({\r\n                bottom : 0,\r\n                opacity : 1,\r\n            },'fast');\r\n        });\r\n    }\r\n}\r\nclass TextSticker extends Sticker {\r\n\r\n    constructor(color) {\r\n        super(color);\r\n        this.id = Sticker.getNewId();\r\n        this._html = this.getSnippet();\r\n    }\r\n\r\n    getSnippet() {\r\n        return `\r\n            <div class=\"nc-text-sticker nc-sticker mdl-card mdl-shadow--2dp\" id=\"textsticker-${this.id}\" data-id=\"${this.id}\">\r\n                <div class=\"mdl-card__title mdl-card--expand\">\r\n                    <div class=\"mdl-textfield mdl-js-textfield mdl-textfield--floating-label\">\r\n                        <textarea class=\"mdl-textfield__input\" rows=\"3\" type=\"text\" id=\"textsticker-${this.id}\"></textarea>\r\n                        <label class=\"mdl-textfield__label\" for=\"textsticker-${this.id}\">Sticker</label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"mdl-card__actions mdl-card--border\">\r\n                    <a class=\"add-to-desk mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\">Add to desk </a>\r\n                    <a class=\"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\">\r\n                        <i class=\"material-icons\">delete</i>\r\n                    </a>\r\n                </div>\r\n            </div>`;\r\n\r\n    }\r\n    transformToDeskWidget($sticker){\r\n        $sticker.draggable({\r\n            containment: \".nc-desk-canvas\", scroll: false\r\n        });\r\n        $sticker.find(\".mdl-card__actions .add-to-desk\").replaceWith('<a class=\"submit-to-desk mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\">Submit to desk </a>')\r\n        $sticker.css('background-color',this.color);\r\n\r\n        let submitToDeskCallback = () => {\r\n            this.submitToDeskHandler($sticker);\r\n\r\n        };\r\n        $sticker.on('click','.submit-to-desk',submitToDeskCallback);\r\n\r\n        return $sticker;\r\n    }\r\n    transformToSubmittedDeskWidget($sticker){\r\n        $sticker.draggable('disable');\r\n        $sticker.find(\".mdl-card__actions .submit-to-desk\").remove();\r\n        this.text = $sticker.find(\".mdl-textfield textarea\").val();\r\n        $sticker.find(\".mdl-textfield\").replaceWith('<div class=\"widget-text\">'+this.text + '</div>');\r\n        return $sticker;\r\n    }\r\n    get html() {\r\n        return this._html;\r\n    }\r\n}"
  ]
}